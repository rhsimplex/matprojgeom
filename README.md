matprojgeom
===========
matprojgeom is a very simple crystal structure predictor. It uses some machine learning (random forests) on data from around 20,000 compounds from the Materials Project (https://materialsproject.org) to make structural predictions for a given composition.

To try it out, clone this repository and run predictor.py (you will need the pymatgen (https://pymatgen.org) library):
```
$python predictor.py
```
or if using ipython:
```
In[1]: import predictor
In[2]: predictor.main()
```
You'll see something like this:
```
Ryan's structure predictor 0.1!
Building point group classifier... done. Accuracy: 0.47
Building volume/site regressor... done. MAE: 1.84 A^3
Building c/a regressor... done. MAE: 0.2
Enter composition to predict, or 'q' to quit. Please include numbers for all elements (e.g. Li21Si5, Al2Ti1): 
```
Here you can input a composition, for instance: "Au5Cu7Mg2". You should see output like this:

```
Enter composition to predict, or 'q' to quit. Please include numbers for all elements (e.g. Li21Si5, Al2Ti1): Au5Cu7Mg2
=====Compositional Features=====
                         Value
numberOfSpecies              3
fracActinoid                 0
fracAlkali                   0
fracAlkaline            0.1429
fracChalcogen                0
fracHalogen                  0
fracLanthanoid               0
fracMetalloid                0
fracNobleGas                 0
fracRareEarth                0
fracTransitionMetal     0.8571
electronsPerAtom        2.3571
electronegativityRange    1.23
electronegativityStd    0.4186
radiiRange                0.15
radiiStd                0.0525
rowRange                     3
rowStd                  1.1157
ordered                   True
=====Structure Predictions======
Building coordination regressor
for Mg... done. MAE: 0.76
Building coordination regressor
for Au... done. MAE: 0.76
Building coordination regressor
for Cu... done. MAE: 0.52
--------------------------------
                    Probability
Cryst. Point Group             
4/mmm                       0.4
6/mmm                       0.2
-1                          0.1
4mm                         0.1
-3m                         0.1
--------------------------------
Volume/site: 17.23 A^3
c/a: 0.63
Coordination Mg: 8.03
Coordination Au: 7.7
Coordination Cu: 9.05
================================
```
Values under the "Compositional Features" header are computed just from the formula, i.e elemental, data.  These will be fed into the random forest models to predict point symmetry, volume/site, c/a ratio, and coordination for each species.

That's it! For a deeper explanation, and a look at performance, see: https://github.com/rhsimplex/matprojgeom/blob/master/matprojgeom.pdf?raw=true  

An explanation of some included files:

matprojscraper.py -- script for scraping Materials Project database
databasegenerator.py -- builds a database with features from the scraped data files
structures.csv -- output of databasegenerator. All features for our random forests are stored here
coordination -- directory of databases of coordination (H.csv, He.csv, Li.csv, etc.). Also can be generated by databasegenerator
modelbuilder.py -- builds random forest classifiers/regressors for point group, vol., c/a, coordination or whatever you like
predictor.py -- demonstration script
